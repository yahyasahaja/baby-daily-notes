'use client';

import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'en' | 'id';

interface I18nContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

// Translation data
const translations = {
  en: {
    // Common
    'app.title': 'Baby Daily Notes',
    'app.description': 'Track your baby\'s daily weight, diaper changes, and health patterns',
    
    // Navigation
    'nav.home': 'Home',
    'nav.weight': 'Weight',
    'nav.pee': 'Pee',
    'nav.poop': 'Poop',
    'nav.summary': 'Summary',
    'nav.settings': 'Settings',
    
    // Profile
    'profile.create': 'Create Profile',
    'profile.name': 'Name',
    'profile.dateOfBirth': 'Date of Birth',
    'profile.gender': 'Gender',
    'profile.gender.male': 'Male',
    'profile.gender.female': 'Female',
    'profile.picture': 'Picture URL (Optional)',
    'profile.save': 'Save Profile',
    'profile.select': 'Select Profile',
    'profile.edit': 'Edit Profile',
    'profile.delete': 'Delete Profile',
    
    // Weight
    'weight.today': 'Today\'s Weight',
    'weight.latest': 'Latest Weight',
    'weight.enter': 'Enter Weight',
    'weight.kg': 'kg',
    'weight.status': 'Weight Status',
    'weight.notRecorded': 'Not recorded',
    'weight.normal': 'Normal',
    'weight.underweight': 'Underweight',
    'weight.overweight': 'Overweight',
    'weight.belowStandard': 'Below Standard',
    'weight.category': 'Category',
    'weight.percentile': 'Percentile',
    'weight.growthStatus': 'Growth Status',
    'weight.ideal': 'Ideal',
    'weight.batasBawah': 'Lower Limit',
    'weight.batasAtas': 'Upper Limit',
    'weight.kurangGizi': 'Malnourished',
    'weight.sangatBaik': 'Excellent',
    'weight.baik': 'Good',
    'weight.perluPerhatian': 'Needs Attention',
    'weight.mengkhawatirkan': 'Concerning',
    'weight.targetMingguDepan': 'Next Week\'s Target',
    'weight.proyeksiPertumbuhan': 'Growth Projection',
    'weight.rekomendasi': 'Recommendations',
    'weight.interpretasiGrafik': 'Chart Interpretation',
    'weight.normalZone': 'Normal: 15th - 85th percentile (green zone)',
    'weight.kurangZone': 'Underweight: 3rd - 15th percentile (yellow zone)',
    'weight.sangatKurangZone': 'Severely Underweight: < 3rd percentile (red zone)',
    'weight.risikoLebihZone': 'Risk of Overweight: > 85th percentile (orange zone)',
    'weight.chartExplanation': 'This chart uses WHO percentiles to compare baby\'s weight with international growth standards. The higher the percentile, the heavier the baby compared to other babies of the same age.',
    'weight.requiredIncrease': 'Required increase',
    'weight.perWeek': 'per week',
    'weight.withIncrease': 'With an increase of',
    'weight.willReachIdeal': 'will reach ideal weight in',
    'weight.weeks': 'weeks',
    'weight.growthVeryGood': 'Growth is very good!',
    'weight.increaseFeedingFrequency': 'Increase feeding frequency',
    'weight.ensureAdequateNutrition': 'Ensure adequate nutritional intake',
    'weight.monitorWeightWeekly': 'Monitor weight every week',
    'weight.weightGain': 'Weight Gain',
    'weight.daily': 'Daily',
    'weight.weekly': 'Weekly',
    'weight.monthly': 'Monthly',
    'weight.recentEntries': 'Recent Entries',
    'weight.addWeightEntry': 'Add Weight Entry',
    'weight.editWeightEntry': 'Edit Weight Entry',
    'weight.weightGrams': 'Weight (grams)',
    'weight.enterWeightGrams': 'Enter weight in grams',
    'weight.addTodaysWeight': 'Add today\'s weight',
    'weight.currentWeight': 'Current Weight',
    'weight.birthWeight': 'Birth Weight',
    'age': 'Age',
    'weight.age': 'Age',
    'weight.months': 'months',
    'weight.history': 'History',
    'weight.whoGrowthChart': 'WHO Growth Chart',
    'weight.bodyWeight': 'Body Weight (g)',
    'weight.ageMonths': 'Age (months)',
    
    // Modal content
    'modal.range': 'Range',
    'modal.meaning': 'Meaning',
    'modal.indicators': 'Indicators',
    'modal.recommendations': 'Recommendations',
    'modal.explanation': 'Explanation',
    'modal.categoryInfo': 'Weight Category Information',
    'modal.growthStatusInfo': 'Growth Status Information',
    'modal.babyWeightSlightlyBelow': 'Baby\'s weight is slightly below normal, needs special attention.',
    'modal.babyWeightAboveAverage': 'Baby\'s weight is above average for their age. Need to maintain balanced diet and physical activity.',
    'modal.babyWeightExceedsStandard': 'Baby\'s weight exceeds normal standards, need to consult a doctor.',
    'modal.babyWeightVeryLow': 'Baby\'s weight is very low, requires immediate medical attention.',
    'modal.babyWeightNormalHealthy': 'Baby\'s weight is normal and healthy. Growth is going well.',
    'modal.weightLessThanAverage': 'Weight is less than average for babies of their age. Need to increase nutritional intake and strict monitoring.',
    'modal.weightAboveAverage': 'Weight is above average for babies of their age. Need to maintain balanced diet and physical activity.',
    'modal.weightFarAboveAverage': 'Weight is far above average for babies of their age. Need to consult pediatrician for further evaluation.',
    'modal.weightVeryFarBelowAverage': 'Weight is very far below average for babies of their age. Immediately consult pediatrician for evaluation and treatment.',
    'modal.growthVeryGoodWho': 'Baby\'s growth is very good and in accordance with WHO standards.',
    'modal.growthGoodNormalRange': 'Baby\'s growth is good and within normal range.',
    'modal.growthNeedsSpecialAttention': 'Baby\'s growth requires special attention and strict monitoring.',
    'modal.growthConcerningMedicalEvaluation': 'Baby\'s growth is concerning and requires immediate medical evaluation.',
    'modal.weightInPercentile': 'Weight is in the 50-85th percentile',
    'modal.weightGainOnTarget': 'Weight gain is on target or exceeds target',
    'modal.growthConsistentStable': 'Growth is consistent and stable',
    'modal.weightInPercentile15_50': 'Weight is in the 15-50th percentile',
    'modal.weightGainNearTarget': 'Weight gain is near target',
    'modal.growthQuiteConsistent': 'Growth is quite consistent',
    'modal.weightInPercentile3_15': 'Weight is in the 3-15th percentile',
    'modal.weightGainBelowTarget': 'Weight gain is below target',
    'modal.growthSlowInconsistent': 'Growth is slow or inconsistent',
    'modal.weightInPercentileExtreme': 'Weight is in the < 3rd or > 97th percentile',
    'modal.weightGainVerySlowExcessive': 'Weight gain is very slow or excessive',
    'modal.growthAbnormalDeclining': 'Growth is abnormal or declining',
    'modal.maintainGoodEatingCare': 'Maintain good eating patterns and care.',
    'modal.continueRoutineCare': 'Continue routine care and monitor growth regularly.',
    'modal.increaseFeedingFrequency': 'Increase feeding frequency',
    'modal.ensureAdequateNutrition': 'Ensure adequate nutritional intake',
    'modal.monitorWeightWeekly': 'Monitor weight every week',
    'modal.consultPediatricianIfNeeded': 'Consult pediatrician if needed',
    'modal.immediatelyConsultPediatrician': 'Immediately consult pediatrician',
    'modal.comprehensiveMedicalEvaluation': 'Conduct comprehensive medical evaluation',
    'modal.monitorGrowthDaily': 'Monitor growth daily',
    'modal.followDoctorAdvice': 'Follow doctor\'s advice and treatment',
    
    // Weight status messages
    'weight.message.severelyUnderweight': 'Weight is very low (severely underweight). Immediately consult a pediatrician.',
    'weight.message.underweight': 'Weight is low (underweight). Needs special attention to nutritional intake.',
    'weight.message.overweight': 'Risk of overweight. Consult a pediatrician.',
    'weight.message.normal': 'Weight is normal. Good growth!',
    'weight.message.upperLimit': 'Weight is normal but at upper limit. Pay attention to diet.',
    'weight.recommendation.consultPediatrician': 'Immediately consult a pediatrician',
    'weight.recommendation.checkDietNutrition': 'Check diet and nutritional intake',
    'weight.recommendation.monitorGrowthStrictly': 'Monitor growth more strictly',
    'weight.recommendation.increaseFeedingFrequency': 'Increase feeding frequency',
    'weight.recommendation.ensureAdequateNutrition': 'Ensure adequate nutritional intake',
    'weight.recommendation.monitorWeightWeekly': 'Monitor weight every week',
    'weight.recommendation.maintainGoodDiet': 'Maintain good diet',
    'weight.recommendation.continueRoutineMonitoring': 'Continue routine monitoring',
    'weight.recommendation.provideAgeAppropriateStimulation': 'Provide age-appropriate developmental stimulation',
    'weight.recommendation.maintainBalancedDiet': 'Maintain balanced diet',
    'weight.recommendation.monitorGrowthRegularly': 'Monitor growth regularly',
    'weight.recommendation.consultIfConcerned': 'Consult if concerned',
    'weight.recommendation.checkDietActivity': 'Check diet and activity',
    'weight.recommendation.monitorGrowthRegularly2': 'Monitor growth regularly',
    'weight.timeToTarget.withIncrease': 'With an increase of',
    'weight.timeToTarget.perWeek': 'per week',
    'weight.timeToTarget.willReachIdeal': 'will reach ideal weight in',
    'weight.timeToTarget.weeks': 'weeks',
    'weight.target.nextWeek': 'Next week\'s target',
    
    // Diaper
    'diaper.pee': 'Pee',
    'diaper.poop': 'Poop',
    'diaper.count': 'Count',
    'diaper.add': 'Add',
    'diaper.details': 'Details',
    'diaper.color': 'Color',
    'diaper.consistency': 'Consistency',
    'diaper.notes': 'Notes',
    
    // Settings
    'settings.title': 'Settings',
    'settings.language': 'Language',
    'settings.currentProfile': 'Current Profile',
    'settings.manageProfiles': 'Manage Profiles',
    'settings.logout': 'Logout',
    
    // Health
    'health.hydration': 'Hydration',
    'health.digestive': 'Digestive Health',
    'health.normal': 'Normal',
    'health.dehydration': 'Dehydration Risk',
    'health.diarrhea': 'Diarrhea',
    
    // Sick Tracking
    'sickTracking': 'Sick Tracking',
    'sickHistory': 'Sick History',
    'addSickEntry': 'Add Sick Entry',
    'noSickData': 'No sick data available',
    'startDate': 'Start Date',
    'endDate': 'End Date',
    'symptoms': 'Symptoms',
    'addSymptom': 'Add Symptom',
    'symptomType': 'Symptom Type',
    'severity': 'Severity',
    'mild': 'Mild',
    'moderate': 'Moderate',
    'severe': 'Severe',
    'fever': 'Fever',
    'vomit': 'Vomit',
    'weak': 'Weak',
    'dizzy': 'Dizzy',
    'cough': 'Cough',
    'runnyNose': 'Runny Nose',
    'rash': 'Rash',
    'diarrhea': 'Diarrhea',
    'constipation': 'Constipation',
    'other': 'Other',
    'sickDuration': 'Sick Duration',
    'daysSick': 'days sick',
    'sickPeriods': 'Sick Periods',
    'noData': 'No data available',
    'addFirstWeight': 'Add your first weight entry',
    
    // Common translations
    'home': 'Home',
    'weight': 'Weight',
    'diaper': 'Diaper',
    'sick': 'Sick',
    'summary': 'Summary',
    'settings': 'Settings',
    'pee': 'Pee',
    'poop': 'Poop',
    'save': 'Save',
    'cancel': 'Cancel',
    'edit': 'Edit',
    'delete': 'Delete',
    'notes': 'Notes',
    'additionalNotes': 'Additional notes...',
    'editSickEntry': 'Edit Sick Entry',
    'noSickPeriodsRecorded': 'No sick periods recorded yet',
  },
  id: {
    // Common
    'app.title': 'Catatan Harian Bayi',
    'app.description': 'Pantau berat badan, popok, dan pola kesehatan bayi Anda',
    
    // Navigation
    'nav.home': 'Beranda',
    'nav.weight': 'Berat Badan',
    'nav.pee': 'Pipis',
    'nav.poop': 'BAB',
    'nav.summary': 'Ringkasan',
    'nav.settings': 'Pengaturan',
    
    // Profile
    'profile.create': 'Buat Profil',
    'profile.name': 'Nama',
    'profile.dateOfBirth': 'Tanggal Lahir',
    'profile.gender': 'Jenis Kelamin',
    'profile.gender.male': 'Laki-laki',
    'profile.gender.female': 'Perempuan',
    'profile.picture': 'URL Foto (Opsional)',
    'profile.save': 'Simpan Profil',
    'profile.select': 'Pilih Profil',
    'profile.edit': 'Edit Profil',
    'profile.delete': 'Hapus Profil',
    
    // Weight
    'weight.today': 'Berat Badan Hari Ini',
    'weight.latest': 'Berat Badan Terbaru',
    'weight.enter': 'Masukkan Berat Badan',
    'weight.kg': 'kg',
    'weight.status': 'Status Berat Badan',
    'weight.notRecorded': 'Belum dicatat',
    'weight.normal': 'Normal',
    'weight.underweight': 'Kurang berat',
    'weight.overweight': 'Berlebih',
    'weight.belowStandard': 'Di bawah standar',
    'weight.category': 'Kategori',
    'weight.percentile': 'Persentil',
    'weight.growthStatus': 'Status Pertumbuhan',
    'weight.ideal': 'Ideal',
    'weight.batasBawah': 'Batas Bawah',
    'weight.batasAtas': 'Batas Atas',
    'weight.kurangGizi': 'Kurang Gizi',
    'weight.sangatBaik': 'Sangat Baik',
    'weight.baik': 'Baik',
    'weight.perluPerhatian': 'Perlu Perhatian',
    'weight.mengkhawatirkan': 'Mengkhawatirkan',
    'weight.targetMingguDepan': 'Target Minggu Depan',
    'weight.proyeksiPertumbuhan': 'Proyeksi Pertumbuhan',
    'weight.rekomendasi': 'Rekomendasi',
    'weight.interpretasiGrafik': 'Interpretasi Grafik',
    'weight.normalZone': 'Normal: 15th - 85th percentile (zona hijau)',
    'weight.kurangZone': 'Kurang: 3rd - 15th percentile (zona kuning)',
    'weight.sangatKurangZone': 'Sangat Kurang: < 3rd percentile (zona merah)',
    'weight.risikoLebihZone': 'Risiko Lebih: > 85th percentile (zona orange)',
    'weight.chartExplanation': 'Grafik ini menggunakan persentil WHO untuk membandingkan berat badan bayi dengan standar pertumbuhan internasional. Semakin tinggi persentil, semakin berat badan bayi dibandingkan dengan bayi lain seusianya.',
    'weight.requiredIncrease': 'Kenaikan yang dibutuhkan',
    'weight.perWeek': 'per minggu',
    'weight.withIncrease': 'Dengan kenaikan',
    'weight.willReachIdeal': 'akan mencapai berat ideal dalam',
    'weight.weeks': 'minggu',
    'weight.growthVeryGood': 'Pertumbuhan sangat baik!',
    'weight.increaseFeedingFrequency': 'Tingkatkan frekuensi menyusui/makan',
    'weight.ensureAdequateNutrition': 'Pastikan asupan nutrisi yang cukup',
    'weight.monitorWeightWeekly': 'Monitor berat badan setiap minggu',
    'weight.weightGain': 'Kenaikan Berat Badan',
    'weight.daily': 'Harian',
    'weight.weekly': 'Mingguan',
    'weight.monthly': 'Bulanan',
    'weight.recentEntries': 'Entri Terbaru',
    'weight.addWeightEntry': 'Tambah Entri Berat Badan',
    'weight.editWeightEntry': 'Edit Entri Berat Badan',
    'weight.weightGrams': 'Berat Badan (gram)',
    'weight.enterWeightGrams': 'Masukkan berat badan dalam gram',
    'weight.addTodaysWeight': 'Tambah berat badan hari ini',
    'weight.currentWeight': 'Berat Saat Ini',
    'weight.birthWeight': 'Berat Lahir',
    'age': 'Usia',
    'weight.age': 'Usia',
    'weight.months': 'bulan',
    'weight.history': 'Riwayat',
    'weight.whoGrowthChart': 'Grafik Pertumbuhan WHO',
    'weight.bodyWeight': 'Berat Badan (g)',
    'weight.ageMonths': 'Usia (bulan)',
    
    // Modal content
    'modal.range': 'Rentang',
    'modal.meaning': 'Artinya',
    'modal.indicators': 'Indikator',
    'modal.recommendations': 'Rekomendasi',
    'modal.explanation': 'Penjelasan',
    'modal.categoryInfo': 'Informasi Kategori Berat Badan',
    'modal.growthStatusInfo': 'Informasi Status Pertumbuhan',
    'modal.babyWeightSlightlyBelow': 'Berat badan bayi sedikit di bawah normal, perlu perhatian khusus.',
    'modal.babyWeightAboveAverage': 'Berat badan bayi di atas rata-rata untuk usianya. Perlu menjaga pola makan seimbang dan aktivitas fisik.',
    'modal.babyWeightExceedsStandard': 'Berat badan bayi melebihi standar normal, perlu konsultasi dokter.',
    'modal.babyWeightVeryLow': 'Berat badan bayi sangat kurang, memerlukan perhatian medis segera.',
    'modal.babyWeightNormalHealthy': 'Berat badan bayi normal dan sehat. Pertumbuhan berjalan dengan baik.',
    'modal.weightLessThanAverage': 'Berat badan kurang dari rata-rata bayi seusianya. Perlu meningkatkan asupan nutrisi dan monitoring ketat.',
    'modal.weightAboveAverage': 'Berat badan di atas rata-rata bayi seusianya. Perlu menjaga pola makan seimbang dan aktivitas fisik.',
    'modal.weightFarAboveAverage': 'Berat badan jauh di atas rata-rata bayi seusianya. Perlu konsultasi ke dokter anak untuk evaluasi lebih lanjut.',
    'modal.weightVeryFarBelowAverage': 'Berat badan sangat jauh di bawah rata-rata bayi seusianya. Segera konsultasi ke dokter anak untuk evaluasi dan penanganan.',
    'modal.growthVeryGoodWho': 'Pertumbuhan bayi sangat baik dan sesuai dengan standar WHO.',
    'modal.growthGoodNormalRange': 'Pertumbuhan bayi baik dan dalam rentang normal.',
    'modal.growthNeedsSpecialAttention': 'Pertumbuhan bayi memerlukan perhatian khusus dan monitoring ketat.',
    'modal.growthConcerningMedicalEvaluation': 'Pertumbuhan bayi mengkhawatirkan dan memerlukan evaluasi medis segera.',
    'modal.weightInPercentile': 'Berat badan berada di persentil 50-85',
    'modal.weightGainOnTarget': 'Kenaikan berat badan sesuai atau melebihi target',
    'modal.growthConsistentStable': 'Pertumbuhan konsisten dan stabil',
    'modal.weightInPercentile15_50': 'Berat badan berada di persentil 15-50',
    'modal.weightGainNearTarget': 'Kenaikan berat badan mendekati target',
    'modal.growthQuiteConsistent': 'Pertumbuhan cukup konsisten',
    'modal.weightInPercentile3_15': 'Berat badan berada di persentil 3-15',
    'modal.weightGainBelowTarget': 'Kenaikan berat badan di bawah target',
    'modal.growthSlowInconsistent': 'Pertumbuhan lambat atau tidak konsisten',
    'modal.weightInPercentileExtreme': 'Berat badan berada di persentil < 3 atau > 97',
    'modal.weightGainVerySlowExcessive': 'Kenaikan berat badan sangat lambat atau berlebihan',
    'modal.growthAbnormalDeclining': 'Pertumbuhan tidak normal atau menurun',
    'modal.maintainGoodEatingCare': 'Pertahankan pola makan dan perawatan yang sudah baik.',
    'modal.continueRoutineCare': 'Lanjutkan perawatan rutin dan monitor pertumbuhan secara berkala.',
    'modal.increaseFeedingFrequency': 'Tingkatkan frekuensi menyusui/makan',
    'modal.ensureAdequateNutrition': 'Pastikan asupan nutrisi yang cukup',
    'modal.monitorWeightWeekly': 'Monitor berat badan setiap minggu',
    'modal.consultPediatricianIfNeeded': 'Konsultasi ke dokter anak jika perlu',
    'modal.immediatelyConsultPediatrician': 'Segera konsultasi ke dokter anak',
    'modal.comprehensiveMedicalEvaluation': 'Lakukan evaluasi medis menyeluruh',
    'modal.monitorGrowthDaily': 'Monitor pertumbuhan setiap hari',
    'modal.followDoctorAdvice': 'Ikuti saran dan pengobatan dari dokter',
    
    // Weight status messages
    'weight.message.severelyUnderweight': 'Berat badan sangat kurang (severely underweight). Segera konsultasi ke dokter anak.',
    'weight.message.underweight': 'Berat badan kurang (underweight). Perlu perhatian khusus pada asupan nutrisi.',
    'weight.message.overweight': 'Risiko berat badan lebih (risk of overweight). Konsultasi ke dokter anak.',
    'weight.message.normal': 'Berat badan normal. Pertumbuhan baik!',
    'weight.message.upperLimit': 'Berat badan normal tapi di batas atas. Perhatikan pola makan.',
    'weight.recommendation.consultPediatrician': 'Segera konsultasi ke dokter anak',
    'weight.recommendation.checkDietNutrition': 'Periksa pola makan dan asupan nutrisi',
    'weight.recommendation.monitorGrowthStrictly': 'Monitor pertumbuhan lebih ketat',
    'weight.recommendation.increaseFeedingFrequency': 'Tingkatkan frekuensi menyusui/makan',
    'weight.recommendation.ensureAdequateNutrition': 'Pastikan asupan nutrisi yang cukup',
    'weight.recommendation.monitorWeightWeekly': 'Monitor berat badan setiap minggu',
    'weight.recommendation.maintainGoodDiet': 'Pertahankan pola makan yang baik',
    'weight.recommendation.continueRoutineMonitoring': 'Lanjutkan monitoring rutin',
    'weight.recommendation.provideAgeAppropriateStimulation': 'Berikan stimulasi perkembangan sesuai usia',
    'weight.recommendation.maintainBalancedDiet': 'Pertahankan pola makan yang seimbang',
    'weight.recommendation.monitorGrowthRegularly': 'Monitor pertumbuhan secara teratur',
    'weight.recommendation.consultIfConcerned': 'Konsultasi jika ada kekhawatiran',
    'weight.recommendation.checkDietActivity': 'Periksa pola makan dan aktivitas',
    'weight.recommendation.monitorGrowthRegularly2': 'Monitor pertumbuhan secara teratur',
    'weight.timeToTarget.withIncrease': 'Dengan kenaikan',
    'weight.timeToTarget.perWeek': 'per minggu',
    'weight.timeToTarget.willReachIdeal': 'akan mencapai berat ideal dalam',
    'weight.timeToTarget.weeks': 'minggu',
    'weight.target.nextWeek': 'Target minggu depan',
    
    // Diaper
    'diaper.pee': 'Pipis',
    'diaper.poop': 'BAB',
    'diaper.count': 'Jumlah',
    'diaper.add': 'Tambah',
    'diaper.details': 'Detail',
    'diaper.color': 'Warna',
    'diaper.consistency': 'Konsistensi',
    'diaper.notes': 'Catatan',
    
    // Settings
    'settings.title': 'Pengaturan',
    'settings.language': 'Bahasa',
    'settings.currentProfile': 'Profil Saat Ini',
    'settings.manageProfiles': 'Kelola Profil',
    'settings.logout': 'Keluar',
    
    // Health
    'health.hydration': 'Hidrasi',
    'health.digestive': 'Kesehatan Pencernaan',
    'health.normal': 'Normal',
    'health.dehydration': 'Risiko Dehidrasi',
    'health.diarrhea': 'Diare',
    
    // Sick Tracking
    'sickTracking': 'Pelacakan Sakit',
    'sickHistory': 'Riwayat Sakit',
    'addSickEntry': 'Tambah Entri Sakit',
    'noSickData': 'Tidak ada data sakit tersedia',
    'startDate': 'Tanggal Mulai',
    'endDate': 'Tanggal Selesai',
    'symptoms': 'Gejala',
    'addSymptom': 'Tambah Gejala',
    'symptomType': 'Jenis Gejala',
    'severity': 'Tingkat Keparahan',
    'mild': 'Ringan',
    'moderate': 'Sedang',
    'severe': 'Berat',
    'fever': 'Demam',
    'vomit': 'Muntah',
    'weak': 'Lemah',
    'dizzy': 'Pusing',
    'cough': 'Batuk',
    'runnyNose': 'Hidung Meler',
    'rash': 'Ruam',
    'diarrhea': 'Diare',
    'constipation': 'Sembelit',
    'other': 'Lainnya',
    'sickDuration': 'Durasi Sakit',
    'daysSick': 'hari sakit',
    'sickPeriods': 'Periode Sakit',
    'noData': 'Tidak ada data tersedia',
    'addFirstWeight': 'Tambahkan entri berat badan pertama',
    
    // Common translations
    'home': 'Beranda',
    'weight': 'Berat Badan',
    'diaper': 'Popok',
    'sick': 'Sakit',
    'summary': 'Ringkasan',
    'settings': 'Pengaturan',
    'pee': 'Kencing',
    'poop': 'BAB',
    'save': 'Simpan',
    'cancel': 'Batal',
    'edit': 'Edit',
    'delete': 'Hapus',
    'notes': 'Catatan',
    'additionalNotes': 'Catatan tambahan...',
    'editSickEntry': 'Edit Entri Sakit',
    'noSickPeriodsRecorded': 'Belum ada periode sakit yang dicatat',
  }
};

export function I18nProvider({ children }: { children: React.ReactNode }) {
  const [language, setLanguage] = useState<Language>('en');

  useEffect(() => {
    // Load language from localStorage
    const savedLanguage = localStorage.getItem('baby-daily-notes-language') as Language;
    if (savedLanguage && (savedLanguage === 'en' || savedLanguage === 'id')) {
      setLanguage(savedLanguage);
    }
  }, []);

  const handleSetLanguage = (lang: Language) => {
    setLanguage(lang);
    localStorage.setItem('baby-daily-notes-language', lang);
  };

  const t = (key: string): string => {
    return translations[language][key as keyof typeof translations[typeof language]] || key;
  };

  return (
    <I18nContext.Provider value={{ language, setLanguage: handleSetLanguage, t }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const context = useContext(I18nContext);
  if (context === undefined) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
}
